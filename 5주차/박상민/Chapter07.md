# ğŸ“• [ìë°” ê°ì²´ ì§€í–¥ì˜ ì›ë¦¬ì™€ ì´í•´] 6ì¥. ìŠ¤í”„ë§ì´ ì‚¬ë‘í•œ ë””ìì¸ íŒ¨í„´

'ê°ì²´ì§€í–¥ì˜ 4ëŒ€ íŠ¹ì„±'ì€ ê°ì²´ì§€í–¥ì„ ì˜ ì‚¬ìš©í•˜ê¸°ìœ„í•œ 'ë„êµ¬'ì´ë‹¤.
'ê°ì²´ì§€í–¥ì˜ 5ëŒ€ ì›ì¹™'ì€ ì´ëŸ¬í•œ ë„êµ¬ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•˜ëŠ” ì›ì¹™ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤.
ê·¸ë ‡ë‹¤ë©´ ë””ìì¸íŒ¨í„´ì€ ë¬´ì—‡ì— ë¹„ìœ í•  ìˆ˜ ìˆì„ê¹Œ?

'ë””ìì¸ íŒ¨í„´'ì€ ë ˆì‹œí”¼ì´ë‹¤.

ì‹¤ì œ ê°œë°œ í˜„ì¥ì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ ì‚¬í•­ì„ ì²˜ë¦¬í•˜ë©´ì„œ ë§Œë“¤ì–´ì§„ ë‹¤ì–‘í•œ í•´ê²°ì±… ì¤‘ ë§ì€ ì‚¬ëŒë“¤ì´ ì¸ì •í•œ 'ë² ìŠ¤íŠ¸  í”„ë ‰í‹°ìŠ¤'ë¥¼ ì •ë¦¬í•œ ê²ƒì´ë‹¤. (ë””ìì¸ íŒ¨í„´ì€ ë‹¹ì—°íˆ ê°ì²´ ì§€í–¥ íŠ¹ì„±ê³¼ ì„¤ê³„ ì›ì¹™ì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±)

ìŠ¤í”„ë§ ì—­ì‹œ ë‹¤ì–‘í•œ ë””ìì¸ íŒ¨í„´ì„ í™œìš©í•˜ê³  ìˆë‹¤.
# â­ï¸ ìŠ¤í”„ë§ì´ ì‚¬ë‘í•œ ë””ìì¸ íŒ¨í„´ë“¤

## ğŸ“Œ ì–´ëŒ‘í„° íŒ¨í„´ (Adapter Pattern)
![](https://velog.velcdn.com/images/pp8817/post/7273814a-c8cd-4790-838a-8150220690e3/image.png)

```
ğŸ“Œ ë™ì‘ ìˆœì„œ

1. í•¸ë“¤ëŸ¬ ì¡°íšŒ: í•¸ë“¤ëŸ¬ ë§¤í•‘ì„ í†µí•´ ìš”ì²­ URLì— ë§¤í•‘ëœ í•¸ë“¤ëŸ¬(Controller)ë¥¼ ì¡°íšŒí•œë‹¤.
2. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì¡°íšŒ: í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¥¼ ì¡°íšŒí•œë‹¤.
3. í•¸ë“¤ëŸ¬ ì–´íƒ­í„° ì‹¤í–‰: í•¸ë“¤ëŸ¬ ì–´íƒ­í„°ë¥¼ ì‹¤í–‰í•œë‹¤.
4. í•¸ë“¤ëŸ¬ ì‹¤í–‰: í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ê°€ ì‹¤ì œ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•œë‹¤.
5. ModelAndView ë°˜í™˜: í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ëŠ” í•¸ë“¤ëŸ¬ê°€ ë°˜í™˜í•˜ëŠ” ì •ë³´ë¥¼ ModelAndViewë¡œ ë³€í™˜í•´ì„œ ë°˜í™˜í•œë‹¤.
6. viewResolver í˜¸ì¶œ: ë·° ë¦¬ì¡¸ë²„ë¥¼ ì°¾ê³  ì‹¤í–‰í•œë‹¤.
7. Viewë°˜í™˜:ë·° ë¦¬ì¡¸ë²„ëŠ” ë·°ì˜ ë…¼ë¦¬ ì´ë¦„ì„ ë¬¼ë¦¬ ì´ë¦„ìœ¼ë¡œ ë°”ê¾¸ê³ , ë Œë”ë§ ì—­í• ì„ ë‹´ë‹¹í•˜ëŠ” ë·° ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
8. ë·° ë Œë”ë§: ë·°ë¥¼ í†µí•´ì„œ ë·°ë¥¼ ë Œë”ë§í•œë‹¤.
```

`Adapter` íŒ¨í„´ì€ `Front Controller`ì˜ ìœ ì—°í•˜ì§€ ëª»í•œ ë‹¨ì ì„ í•´ê²°í•œë‹¤. `Adapter` íŒ¨í„´ì€ ì—¬ëŸ¬ `Controller interface`ì™€ í˜¸í™˜ ê°€ëŠ¥í•˜ë„ë¡ `Front Controller`ì™€ `Controller` ì‚¬ì´ì— `Adapter`ë¥¼ ë°°ì¹˜í•˜ëŠ” ê²ƒì´ë‹¤.
> ì´ëŠ” ë¼ì§€ì½”ë¡œ ë¹„ìœ í•  ìˆ˜ ìˆë‹¤. Controller A, B interfaceê°€ ìˆì„ ë•Œ ê°ê°ì„ 110V, 220V ì „ê¸° ì½˜ì„¼íŠ¸ë¡œ ìƒê°í•˜ì. A, B interfaceë¥¼ ëª¨ë‘ ìˆ˜ìš©í•˜ê¸° ì´í•´ì„œëŠ” 110Vì— 220V ë¼ì§€ì½”(Adapter)ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤. ì´ë•Œ 220V ë¼ì§€ì½”ê°€ Adapterì˜ ì—­í• ì„ í•œë‹¤.

## ğŸ“Œ í”„ë¡ì‹œ íŒ¨í„´ (Proxy Pattern)
í”„ë¡ì‹œëŠ” ëŒ€ë¦¬ìë¼ëŠ” ì˜ë¯¸ì´ë‹¤. ëŒ€ë¦¬ìë¼ê³  í•˜ë©´ **ë‹¤ë¥¸ ëˆ„êµ°ê°€ë¥¼ ëŒ€ì‹ í•´ ê·¸ ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” ì¡´ì¬ë¥¼ ë§í•œë‹¤.**

**í”„ë¡ì‹œ íŒ¨í„´ ì‚¬ìš©**
- í´ë˜ìŠ¤
```java
public interface IService {
	String runSomething();
}

public class Proxy implements IService {
	IService service1;

	public String runSomething() {
		System.out.println("í˜¸ì¶œì— ëŒ€í•œ íë¦„ ì œì–´ê°€ ì£¼ëª©ì , ë°˜í™˜ ê²°ê³¼ë¥¼ ê·¸ëŒ€ë¡œ ì „ë‹¬");

		service1 = new Service();
		return service1.runSomething();
	}
}

public class Service implements IService {
	public String runSomething() {
		return "ì„œë¹„ìŠ¤ ì§±!!!";
	}
}
```
- ë©”ì¸ ë©”ì„œë“œ
```java
public class ClientWithProxy {
	public static void main(String[] args) {
		// í”„ë¡ì‹œë¥¼ ì´ìš©í•œ í˜¸ì¶œ
		IService proxy = new Proxy();
		System.out.println(proxy.runSomething());
	}
}
```
![](https://velog.velcdn.com/images/pp8817/post/992d41e2-db86-4077-b4b0-73cf32fad00c/image.png)
ì„œë¹„ìŠ¤ ê°ì²´ê°€ ë“¤ì–´ê°ˆ ìë¦¬ì— ëŒ€ë¦¬ì ê°ì²´ë¥¼ ëŒ€ì‹  íˆ¬ì…í•œë‹¤.

**í”„ë¡ì‹œ íŒ¨í„´ì˜ ì¤‘ìš” í¬ì¸íŠ¸**
- ëŒ€ë¦¬ì(í”„ë¡ì‹œ)ëŠ” ì‹¤ì œ ì„œë¹„ìŠ¤ì™€ ê°™ì€ ì´ë¦„ì˜ ë©”ì„œë“œë¥¼ êµ¬í˜„
- ëŒ€ë¦¬ìëŠ” ì‹¤ì œ ì„œë¹„ìŠ¤ì— ëŒ€í•œ ì°¸ì¡° ë³€ìˆ˜ë¥¼ ê°–ëŠ”ë‹¤. (í•©ì„±)
- ëŒ€ë¦¬ìëŠ” ì‹¤ì œ ì„œë¹„ìŠ¤ì˜ ê°™ì€ ì´ë¦„ì„ ê°€ì§„ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê³  ê·¸ ê°’ì„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°˜í™˜í•œë‹¤.
- ëŒ€ë¦¬ìëŠ” ì‹¤ì œ ì„œë¹„ìŠ¤ì˜ ë©”ì„œë“œ í˜¸ì¶œ ì „í›„ì— ë³„ë„ì˜ ë¡œì§ì„ ìˆ˜í–‰í•  ìˆ˜ë„ ìˆë‹¤.

> í”„ë¡ì‹œ íŒ¨í„´ì€ ì‹¤ì œ ì„œë¹„ìŠ¤ì˜ ë°˜í™˜ê°’ì€ ë³€ê²½í•˜ì§€ ì•Šê³  ì œì–´ì˜ íë¦„ì„ ë³€ê²½í•˜ê±°ë‚˜ ë‹¤ë¥¸ ë¡œì§ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

## ğŸ“Œ ë°ì½”ë ˆì´í„° íŒ¨í„´ (Decorator Pattern)
ë°ì½”ë ˆì´í„°ëŠ” ë„ì¥/ë„ë°°ì—…ìë¥¼ ì˜ë¯¸í•œë‹¤. ì—¬ê¸°ì„œëŠ” ì¥ì‹ìë¼ëŠ” ëœ»ì„ ê°€ì§€ê³  ë…¼ë¦¬ë¥¼ í’€ì–´ ë³´ì. ë°ì½”ë ˆì´í„° íŒ¨í„´ì´ ì›ë³¸ì— ì¥ì‹ì„ ë”í•˜ëŠ” íŒ¨í„´ì´ë¼ëŠ” ê²ƒì´ ì´ë¦„ì— ì˜ ë“œëŸ¬ë‚˜ ìˆë‹¤. ë°ì½”ë ˆì´í„° íŒ¨í„´ì€ í”„ë¡ì‹œ íŒ¨í„´ê³¼ êµ¬í˜„ ë°©ë²•ì´ ê°™ë‹¤.

**í”„ë¡ì‹œ íŒ¨í„´ê³¼ êµ¬í˜„ ë°©ë²•ì´ ê°™ìœ¼ë‚˜ ìµœì¢…ì ìœ¼ë¡œ ë°˜í™˜í•˜ëŠ” ë°˜í™˜ê°’ì— ì¥ì‹ì„ ë§ì…íŒë‹¤.**
```java
public class Decoreator implements IService {
	IService service;

	public String runSomething() {
		System.out.println("í˜¸ì¶œì— ëŒ€í•œ ì¥ì‹ ì£¼ëª©ì , í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°˜í™˜ ê²°ê³¼ì— ì¥ì‹ì„ ë”í•˜ì—¬ ì „ë‹¬");

		service = new Service();
		return "ì •ë§" + service.runSomething();
	}
}
```
ë°˜í™˜ ê°’ì— ë‹¤ë¥¸ ê°’ì´ ì¶”ê°€ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ë°ì½”ë ˆì´í„° íŒ¨í„´ì˜ ì¤‘ìš”í¬ì¸íŠ¸ëŠ” í”„ë¡ì‹œ íŒ¨í„´ì˜ ì¤‘ìš” í¬ì¸íŠ¸ì— 'ë°˜í™˜ê°’ì— ë³€í™”ë¥¼ ì¤„ ìˆ˜ ìˆë‹¤'ëŠ” ì ì´ë‹¤.

## ğŸ“Œ ì‹±ê¸€í†¤ íŒ¨í„´(Singleton Pattern)
ì‹±ê¸€í†¤ íŒ¨í„´ì´ë€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•˜ë‚˜ë§Œ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ íŒ¨í„´ì´ë‹¤. ì‹±ê¸€í†¤ íŒ¨í„´ì€ ì˜¤ì§ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•˜ë‚˜ë§Œ ë§ˆë“¤ê³  ê·¸ê²ƒì„ ê³„ì†í•´ì„œ **ì¬ì‚¬ìš©**í•œë‹¤.

'ì»¤ë„¥ì…˜ í’€', 'ìŠ¤ë ˆë“œ í’€', 'ë””ë°”ì´ìŠ¤ ì„¤ì • ê°ì²´' ë“±ê³¼ ê°™ì€ ê²½ìš° ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì—¬ëŸ¬ ê°œ ë§Œë“¤ê²Œ ë˜ë©´ **ë¶ˆí•„ìš”í•œ ìì›ì„ ì‚¬ìš©í•˜ê²Œ ë˜ê³ , í”„ë¡œê·¸ë¨ì´ ì˜ˆìƒì¹˜ ëª»í•œ ê²°ê³¼ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.**

ì‹±ê¸€í†¤ íŒ¨í„´ì„ ì ìš©í•˜ë©´ ë‘ ê°œì˜ ê°ì²´ê°€ ì¡´ì¬í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ

- ê°ì²´ ìƒì„±ì„ ìœ„í•œ newì— ì œì•½ì„ ê±¸ì–´ì•¼ í•˜ê³ 
- ë§Œë“¤ì–´ì§„ ë‹¨ì¼ ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œê°€ í•„ìš”í•˜ë‹¤.
    - newë¥¼ ì‹¤í–‰í•  ìˆ˜ ì—†ë„ë¡ ìƒì„±ìì— private ì ‘ê·¼ ì œì–´ì ì„¤ì •
    - ìœ ì¼í•œ ë‹¨ì¼ ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” "ì •ì  ë©”ì„œë“œ" í•„ìš”
    - ìœ ì¼í•œ ë‹¨ì¼ ê°ì²´ë¥¼ ì°¸ì¡°í•  "ì •ì  ì°¸ì¡° ë³€ìˆ˜" í•„ìš”

**ì‹±í´í†¤ íŒ¨í„´ ì ìš©ì„ ìœ„í•œ í´ë˜ìŠ¤ êµ¬ì„±**
```
public class Singleton {
	static Singleton singletonObject; // ì •ì  ì°¸ì¡° ë³€ìˆ˜

	private Singleton() {
	}; // private ìƒì„±ì

	// ê°ì²´ ë°˜í™˜ ì •ì  ë©”ì„œë“œ
	public static Singleton getInstance() {
		if (singletonObject == null) {
			singletonObject = new Singleton();
		}

		return singletonObject;
	}
}
```
ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ë„ë¡ ì„¤ì •í–ˆê³  "ì •ì  ë©”ì„œë“œ"ë¥¼ ì‹¤í–‰í•´ ì •ì  ì°¸ì¡° ë³€ìˆ˜ì— ê°ì²´ê°€ í• ë‹¹ë˜ì–´ ìˆì§€ì•Šìœ¼ë©´ í• ë‹¹í•´ì„œ ë°˜í™˜í•˜ê³  í• ë‹¹ë˜ì–´ ìˆìœ¼ë©´ ì°¸ì¡° ë³€ìˆ˜ë¥¼ ë°˜í™˜í•˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤.

**í…ŒìŠ¤íŠ¸ ì½”ë“œ**
```java
public class Client {
	public static void main(String[] args) {
		// private ìƒì„±ìì„ìœ¼ë¡œ new í•  ìˆ˜ ì—†ë‹¤.
		// Singleton s = new Singleton();

		Singleton s1 = Singleton.getInstance();
		Singleton s2 = Singleton.getInstance();
		Singleton s3 = Singleton.getInstance();

		System.out.println(s1);
		System.out.println(s2);
		System.out.println(s3);

		s1 = null;
		s2 = null;
		s3 = null;
	}
}
```
ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” s1, s2, s3 ëª¨ë‘ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•˜ê²Œ ëœë‹¤.
![](https://velog.velcdn.com/images/pp8817/post/2d59aacf-f164-4050-9ef5-1f4930099e4d/image.png)
4ê°œì˜ ì°¸ì¡° ë³€ìˆ˜ê°€ ëª¨ë‘ í•˜ë‚˜ì˜ ë‹¨ì¼ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.'

**ì‹±ê¸€í†¤ íŒ¨í„´ì˜ íŠ¹ì§•**
- private ìƒì„±ìë¥¼ ê°–ëŠ”ë‹¤.
- ë‹¨ì¼ ê°ì²´ ì°¸ì¡° ë³€ìˆ˜ë¥¼ "ì •ì  ì†ì„±"ìœ¼ë¡œ ê°–ëŠ”ë‹¤.
- ë‹¨ì¼ ê°ì²´ ì°¸ì¡° ë³€ìˆ˜ê°€ ì°¸ì¡°í•˜ëŠ” "ë‹¨ì¼ ê°ì²´"ë¥¼ ë°˜í™˜í•˜ëŠ” getInstance() ì •ì  ë©”ì„œë“œë¥¼ ê°–ëŠ”ë‹¤.
- ë‹¨ì¼ ê°ì²´ëŠ” ì“°ê¸° ê°€ëŠ¥í•œ ì†ì„±ì„ ê°–ì§€ ì•ŠëŠ” ê²ƒì´ ì •ì„ì´ë‹¤. (ì½ê¸° ì „ìš©ì€ ê°€ëŠ¥)

## ğŸ“Œ í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ (Template Method Pattern)
ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œëŠ” ìƒìœ„í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•˜ê³ , í•˜ìœ„í´ë˜ìŠ¤ë§ˆë‹¤ ë‹¬ë¼ì§€ëŠ” ê²ƒì€ ì¶”ìƒí´ë˜ìŠ¤ë¡œ êµ¬í˜„ ê°•ì œí™”í•˜ëŠ” ë””ìì¸ íŒ¨í„´ì´ë‹¤.

í•˜ìœ„í´ë˜ìŠ¤ë§ˆë‹¤ ë‹¬ë¼ì§ˆ ìˆ˜ë„ ìˆëŠ” ê²ƒì€ ì˜¤ë²„ë¼ì´ë“œ ê°€ëŠ¥í•œ í›… ë©”ì„œë“œë¡œ ë§Œë“ ë‹¤.

ê°œì™€ ê³ ì–‘ì´ë¥¼ ë†€ì•„ì£¼ëŠ” playWithOwnerë¼ëŠ” ë©”ì„œë“œê°€ ìˆì„ ë•Œ í•˜ë‚˜ì˜ ìƒìœ„ í´ë˜ìŠ¤ë¡œ ì‹¤ì œ ì¸ìŠ¤í„´ìŠ¤ì— ë§ëŠ” ë©”ì„œë“œë¡œ ì‹¤í–‰í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤.

**Animal ì¶”ìƒ í´ë˜ìŠ¤**
```java
public abstract class Animal {
	// í…œí”Œë¦¿ ë©”ì„œë“œ
	public void playWithOwner() {
		System.out.println("ê·€ì—¼ë‘¥ì´ ì´ë¦¬ì˜¨...");
		play();
		runSomething();
		System.out.println("ì˜í–ˆì–´");
	}

	// ì¶”ìƒ ë©”ì„œë“œ
	abstract void play();

	// Hook(ê°ˆê³ ë¦¬) ë©”ì„œë“œ
	void runSomething() {
		System.out.println("ê¼¬ë¦¬ ì‚´ë‘ ì‚´ë‘~");
	}
}
```
ìƒìœ„í´ë˜ìŠ¤ì—ì„œ í…œí”Œë¦¿ì„ ì œê³µí•˜ëŠ” playWithOwner() í…œí”Œë¦¿ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.
ê·¸ë¦¬ê³  í…œí”Œë¦¿ ë©”ì„œë“œ ì•ˆì— ìˆëŠ” play() ì¶”ìƒ ë©”ì„œë“œì™€ runSomething() ë©”ì„œë“œê°€ ìˆë‹¤.
- ì¶”ìƒ ë©”ì„œë“œ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„ ê°•ì œí•¨
- Hook ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë“œ ììœ 

ì´ ë•Œ í…œí”Œë¦¿ ë©”ì„œë“œì˜ êµ¬ì„±ìš”ì†Œë¥¼ ì•Œì•„ ë³´ì.

- í…œí”Œë¦¿ ë©”ì„œë“œ : ê³µí†µ ë¡œì§ ìˆ˜í–‰, ë¡œì§ ìˆ˜í–‰ ì¤‘ ì¶”ìƒë©”ì„œë“œ/í›… ë©”ì„œë“œ í˜¸ì¶œ
- í…œí”Œë¦¿ ë©”ì„œë“œì—ì„œ í˜¸ì¶œí•˜ëŠ” ì¶”ìƒë©”ì„œë“œ -> ë°˜ë“œì‹œ í•˜ìœ„í´ë˜ìŠ¤ê°€ ì˜¤ë²„ë¼ì´ë”© í•´ì•¼í•œë‹¤.
- í…œí”Œë¦¿ ë©”ì„œë“œì—ì„œ í˜¸ì¶œí•˜ëŠ” í›… ë©”ì„œë“œ -> í•˜ìœ„ í´ë˜ìŠ¤ê°€ ì„ íƒì ìœ¼ë¡œ ì˜¤ë²„ë¼ì´ë”© í•œë‹¤.

![](https://velog.velcdn.com/images/pp8817/post/5c743bb7-a6d8-466c-9d82-ac36434833b0/image.png)


## ğŸ“Œ íŒ©í„°ë¦¬ ë©”ì„œë“œ íŒ¨í„´ (Factory Method Pattern)

íŒ©í„°ë¦¬ ë©”ì„œë“œëŠ” ê°ì²´ë¥¼ ìƒì„± ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œë¥¼ ë§í•œë‹¤.
íŒ©í„°ë¦¬ ë©”ì„œë“œ íŒ¨í„´ì€ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”© í•´ì„œ ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

**ì¶”ìƒ íŒ©í† ë¦¬ ë©”ì„œë“œ**
```
public abstract class Animal {
	// ì¶”ìƒ íŒ©í„°ë¦¬ ë©”ì„œë“œ
	abstract AnimalToy getToy();
}
```

**ì¶”ìƒ íŒ©í† ë¦¬ ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë”©**
```
public class Dog extends Animal {
	// ì¶”ìƒ íŒ©í„°ë¦¬ ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë”©
	@Override
	AnimalToy getToy() {
		return new DogToy();
	}
}
```

**ë©”ì¸ ë©”ì„œë“œ**
```
public class Driver {
	public static void main(String[] args) {
		// íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ë³´ìœ í•œ ê°ì²´ë“¤ ìƒì„±
		Animal bolt = new Dog();
		Animal kitty = new Cat();

		// íŒ©í„°ë¦¬ ë©”ì„œë“œê°€ ë°˜í™˜í•˜ëŠ” ê°ì²´ë“¤
		AnimalToy boltBall = bolt.getToy();
		AnimalToy kittyTower = kitty.getToy();

		// íŒ©í„°ë¦¬ ë©”ì„œë“œê°€ ë°˜í™˜í•œ ê°ì²´ë“¤ì„ ì‚¬ìš©
		boltBall.identify();
		kittyTower.identify();
	}
}
```


íŒ©í„°ë¦¬ ë©”ì„œë“œ íŒ¨í„´ì„ ìš”ì•½í•˜ë©´ 'ì˜¤ë²„ë¼ì´ë“œëœ ë©”ì„œë“œê°€ ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” íŒ¨í„´'ì´ë‹¤.
íŒ©í„°ë¦¬ ë©”ì„œë“œ íŒ¨í„´ì´ ì˜ì¡´ ì—­ì „ ì›ì¹™(DIP)ì„ í™œìš©í•˜ê³  ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.

## ğŸ“Œ ì „ëµ íŒ¨í„´ (Strategy Pattern)
ì „ëµ íŒ¨í„´ì€ ë‹¤ì§€ì¸ íŒ¨í„´ì˜ ê½ƒì´ë‹¤.

**ì „ëµ íŒ¨í„´ êµ¬ì„±ìš”ì†Œ 3ê°€ì§€**
- ì „ëµ ë©”ì„œë“œë¥¼ ê°€ì§„ ì „ëµ ê°ì²´
- ì „ëµ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì»¨í…ìŠ¤íŠ¸ (ì „ëµ ê°ì²´ì˜ ì‚¬ìš©ì/ì†Œë¹„ì)
- ì „ëµ ê°ì²´ë¥¼ ìƒì„±í•´ ì»¨í…ŒìŠ¤íŠ¸ì— ì£¼ì…í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ (ì „ëµ ê°ì²´ì˜ ê³µê¸‰ì)

![](https://velog.velcdn.com/images/pp8817/post/0914291a-8408-499c-ab3f-b3f8829ec273/image.png)

êµ°ì¸ì´ ìˆë‹¤ê³  ìƒìƒí•´ ë³´ì. ê·¸ë¦¬ê³  ê·¸ êµ°ì¸ì´ ì‚¬ìš©í•  ë¬´ê¸°ê°€ ìˆë‹¤ê³  í•˜ì. ë³´ê¸‰ ì¥êµê°€ ë¬´ê¸°ë¥¼ êµ°ì¸ì—ê²Œ ì§€ê¸‰í•´ ì£¼ë©´ êµ°ì¸ì€ ì£¼ì–´ì§„ ë¬´ê¸°ì— ë”°ë¼ ì „íˆ¬ë¥¼ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤. ì´ ì´ì•¼ê¸°ë¥¼ ì „ëµ íŒ¨í„´ì— ë”°ë¼ êµ¬ë¶„í•´ ë³´ë©´ ë¬´ê¸°ëŠ” ì „ëµì´ ë˜ê³ , êµ°ì¸ì€ ì»¨í…ìŠ¤íŠ¸, ë³´ê¸‰ ì¥êµëŠ” ì œ 3ì, ì¦‰ í´ë¼ì´ì–¸íŠ¸ê°€ ëœë‹¤.

**ì „ëµ ì¸í„°í˜ì´ìŠ¤**
```java
public interface Strategy {
	public abstract void runStrategy();
}
```
**ì „ëµ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„**
```java
public class StrategyGun implements Strategy {
	@Override
	public void runStrategy() {
		System.out.println("íƒ•, íƒ€ë‹¹, íƒ€ë‹¤ë‹¹");
	}
}

public class StrategySword implements Strategy {
	@Override
	public void runStrategy() {
		System.out.println("ì±™.. ì±„ìŸì±™ ì±™ì±™");
	}
}
```
**ì „ëµì„ ì‚¬ìš©í•˜ëŠ” ì»¨í…ìŠ¤íŠ¸**
```java
public class Soldier {
	void runContext(Strategy strategy) {
		System.out.println("ì „íˆ¬ ì‹œì‘");
		strategy.runStrategy();
		System.out.println("ì „íˆ¬ ì¢…ë£Œ");
	}
}
```
**ì „ëµ íŒ¨í„´ì˜ í´ë¼ì´ì–¸íŠ¸**
```java
public class Client {
	public static void main(String[] args) {
		Strategy strategy = null;
		Soldier rambo = new Soldier();

		// ì´ì„ ëŒë³´ì—ê²Œ ì „ë‹¬í•´ì„œ ì „íˆ¬ë¥¼ ìˆ˜í–‰í•˜ê²Œ í•œë‹¤.
		strategy = new StrategyGun();
		rambo.runContext(strategy);

		System.out.println();

		// ê²€ì„ ëŒë³´ì—ê²Œ ì „ë‹¬í•´ì„œ ì „íˆ¬ë¥¼ ìˆ˜í–‰í•˜ê²Œ í•œë‹¤.
		strategy = new StrategySword();
		rambo.runContext(strategy);

		System.out.println();

		// í™œì„ ëŒë³´ì—ê²Œ ì „ë‹¬í•´ì„œ ì „íˆ¬ë¥¼ ìˆ˜í–‰í•˜ê²Œ í•œë‹¤.
		strategy = new StrategyBow();
		rambo.runContext(strategy);
	}
}
```

í´ë¼ì´ì–¸íŠ¸ëŠ” ì „ëµì„ ë‹¤ì–‘í•˜ê²Œ ë³€ê²½í•˜ë©´ì„œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.

ì „ëµ íŒ¨í„´ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•˜ë©´ `í´ë¼ì´ì–¸íŠ¸ê°€ ì „ëµì„ ìƒì„±í•´ ì „ëµì„ ì‹¤í–‰í•  ì»¨í…ìŠ¤íŠ¸ì— ì£¼ì…í•˜ëŠ” íŒ¨í„´`ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.
>ì „ëµ íŒ¨í„´ì—ëŠ” OCP, DIPê°€ ì ìš©ëœë‹¤.

## ğŸ“Œ í…œí”Œë¦¿ ì½œë°± íŒ¨í„´ (Template Callback Pattern)
í…œí”Œë¦¿ ì½œë°± íŒ¨í„´ì€ ì „ëµ íŒ¨í„´ì˜ ë³€í˜•ìœ¼ë¡œ, ìŠ¤í”„ë§ 3ëŒ€ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ ì¤‘ í•˜ë‚˜ì¸ **DIì—ì„œ ì‚¬ìš©í•˜ëŠ” íŠ¹ë³„í•œ í˜•íƒœì˜ ì „ëµ íŒ¨í„´**ì´ë‹¤.

ì „ëµíŒ¨í„´ê³¼ ëª¨ë“  ê²ƒì´ ë™ì¼í•œë° **ì „ëµì„ ìµëª… ë‚´ë¶€ í´ë˜ìŠ¤ë¡œ ì •ì˜í•´ì„œ ì‚¬ìš©í•œë‹¤.**

ë”°ë¼ì„œ, ì „ëµíŒ¨í„´ì—ì„œ ì‚¬ìš©í–ˆë˜ StrategyGun, StrategySwordëŠ” í•„ìš”ê°€ ì—†ë‹¤.

```java
public class Client {
	public static void main(String[] args) {
		Soldier rambo = new Soldier();

		rambo.runContext(new Strategy() {
			@Override
			public void runStrategy() {
				System.out.println("ì´! ì´ì´ˆì¢…ì´ ì´! ì´!");
			}
		});

		System.out.println();

		rambo.runContext(new Strategy() {
			@Override
			public void runStrategy() {
				System.out.println("ì¹¼! ì¹´ê°€ê°ˆ ì¹¼! ì¹¼!");
			}
		});

		System.out.println();

		rambo.runContext(new Strategy() {
			@Override
			public void runStrategy() {
				System.out.println("ë„ë¼! ë…ë…..ë„ë„ë… ë…ë¼!");
			}
		});
	}
}
```
ìµëª… ë‚´ë¶€ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ì„œ ì˜¤ë²„ë¼ì´ë“œí•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ë”°ë¡œ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•˜ì§€ ì•Šê³  ì‚¬ìš©í•œë‹¤.

ê·¸ëŸ¬ë‚˜ ìœ„ ì½”ë“œëŠ” ì¤‘ë³µ ì½”ë“œê°€ ë°œìƒí•œë‹¤. ë¦¬íŒ©í† ë§ì˜ ì—¬ì§€ê°€ ë„˜ì³ë‚œë‹¤.

**ë¦¬íŒ©í„°ë§ í•´ë³´ê¸°**
```java
public class Soldier {
	void runContext(String weaponSound) {
		System.out.println("ì „íˆ¬ ì‹œì‘");
		executeWeapon(weaponSound).runStrategy();
		System.out.println("ì „íˆ¬ ì¢…ë£Œ");
	}

	private Strategy executeWeapon(final String weaponSound) {
		return new Strategy() {
			@Override
			public void runStrategy() {
				System.out.println(weaponSound);
			}
		};
	}
}
```
**í´ë¼ì´ì–¸íŠ¸**
```java
public class Client {
	public static void main(String[] args) {
		Soldier rambo = new Soldier();
		
		rambo.runContext("ì´! ì´ì´ˆì¢…ì´ ì´! ì´!");
		
		System.out.println();
		
		rambo.runContext("ì¹¼! ì¹´ê°€ê°ˆ ì¹¼! ì¹¼!");
		
		System.out.println();
		
		rambo.runContext("ë„ë¼! ë…ë…..ë„ë„ë… ë…ë¼!");
	}
}
```
ì¤‘ë³µë˜ëŠ” ì „ëµì„ ìƒì„±í•˜ëŠ” ì½”ë“œê°€ ì»¨í…ìŠ¤íŠ¸ ë‚´ë¶€ë¡œ ë“¤ì–´ì™”ë‹¤. (ì¤‘ë³µë˜ëŠ” ë¶€ë¶„ì„ ì»¨í…ìŠ¤íŠ¸ë¡œ ì´ê´€)

ìŠ¤í”„ë§ì€ ì´ëŸ° í˜•ì‹ìœ¼ë¡œ ë¦¬íŒ©í„°ë§ëœ í…œí”Œë¦¿ ì½œë°± íŒ¨í„´ì„ DIì— ì ê·¹ í™œìš©í•˜ê³  ìˆë‹¤.


- - -
**ì¶œì²˜** <br>
[ìŠ¤í”„ë§ ì…ë¬¸ì„ ìœ„í•œ ìë°” ê°ì²´ ì§€í–¥ì˜ ì›ë¦¬ì™€ ì´í•´](https://search.shopping.naver.com/book/catalog/32462919817)
https://github.com/expert0226/oopinspring